(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/GravityAnimating.34068f26.svg"},,,function(e,t,a){e.exports=a(28)},,,,,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,r,c=a(0),i=a.n(c),o=a(7),s=a.n(o),l=(a(20),a(1)),u=a.n(l),m=a(3),p=a(5),f=a(8),g=a(9),h=a(12),d=a(10),v=a(13),E=(a(23),a(11)),b=a.n(E),y=a(2),w=Math.ceil(2.5),C=function(e){return Array.from(new Array(e)).map(function(e,t){return t+1})},k=function(e){return Object.keys(e).reduce(function(t,a){return""!==e[a]&&(t[a]=e[a]),t},{})},P=new URL("https://gateway.marvel.com/v1/public/comics"),O={ts:"1",apikey:"1136faa63131cec339ae63058b627b70",hash:"7abf5f031a9f3f0031ac8c51fcfe8da0",format:"comic",formatType:"comic",noVariants:!1,hasDigitalIssue:!1},_=function(){var e=Object(p.a)(u.a.mark(function e(t){var a,n,r,c,i,o,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=k(t),a=new URLSearchParams(Object(m.a)({},O,t)).toString(),e.next=4,fetch("".concat(P,"?").concat(a));case 4:if(!(n=e.sent).ok){e.next=12;break}return e.next=8,n.json();case 8:return r=e.sent,c=r.data,i=c.offset,o=c.total,s=r.data.results,e.abrupt("return",{list:s,offset:i,total:o});case 12:throw new Error(n.status);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),j=(a(24),function(e){var t=e.closePopup,a=e.comics;return i.a.createElement("div",{className:"popup"},i.a.createElement("div",{className:"popup_inner"},i.a.createElement("div",{className:"popup_inner-left"},i.a.createElement("img",{src:"".concat(a.thumbnail.path,".").concat(a.thumbnail.extension),alt:a.title})),i.a.createElement("div",{className:"popup_inner-right"},i.a.createElement("h2",null,a.title),i.a.createElement("p",null,a.description),i.a.createElement("div",{className:"popup_inner-links"},a.urls.map(function(e,t){return i.a.createElement("a",{key:t,href:e.url},e.type)}))),i.a.createElement("button",{onClick:t},"close me")))}),N=(a(25),function(e){var t=e.comics,a=e.handleClick;return i.a.createElement("div",{className:"comics-wrapper",onClick:function(){return a(t.id)}},i.a.createElement("div",{className:"image"},i.a.createElement("img",{src:"".concat(t.thumbnail.path,".").concat(t.thumbnail.extension),alt:t.title})))}),A=a(4),x=(a(26),function(e){var t=e.updateComics,a=e.limit,n=e.orderBy,r=function(e){var a=e.target,n=a.name,r=a.value;t(Object(A.a)({},n,r))};return i.a.createElement(i.a.Fragment,null,i.a.createElement("select",{onChange:r,defaultValue:n,className:"search__item search__select",name:"orderBy"},i.a.createElement("option",{value:"modified"},"Order by: modified"),i.a.createElement("option",{value:"-modified"},"Order by: -modified"),i.a.createElement("option",{value:"title"},"Order by: title"),i.a.createElement("option",{value:"-title"},"Order by: -title")),i.a.createElement("select",{onChange:r,defaultValue:a,className:"search__item search__select",name:"limit"},i.a.createElement("option",{value:"10"},"Comics per page: 10"),i.a.createElement("option",{value:"20"},"Comics per page: 20"),i.a.createElement("option",{value:"30"},"Comics per page: 30"),i.a.createElement("option",{value:"40"},"Comics per page: 40"),i.a.createElement("option",{value:"50"},"Comics per page: 50")),i.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t({titleStartsWith:e.target.titleStartsWith.value})}},i.a.createElement("input",{className:"search__item search__input",placeholder:"title starts with .....",name:"titleStartsWith"}),i.a.createElement("button",{name:"button",className:"search__item search__button"},"search")))}),L=(a(27),function(e){var t=e.limit,a=e.offset,c=e.total,o=e.handleClick;if(!c)return null;var s=function(e,t,a){if(n=Math.ceil((t+1)/e),(r=Math.ceil(a/e))<1)return{pagesArray:[],currentPage:n};if(1<=r&&r<=5)return{pagesArray:C(r),currentPage:n};if(r>5){if(n<=w)return{pagesArray:[].concat(Object(y.a)(C(5)),["...",r]),currentPage:n};var c=C(5).map(function(e){return n-w+e});if(n===w+1)return{pagesArray:[1].concat(Object(y.a)(c),["...",r]),currentPage:n};if(n===r-w)return{pagesArray:[1,"..."].concat(Object(y.a)(c),[r]),currentPage:n};var i=C(5).map(function(e){return r-e+1}).reverse();return n>r-w?{pagesArray:[1,"..."].concat(Object(y.a)(i)),currentPage:n}:{pagesArray:[1,"..."].concat(Object(y.a)(c),["...",r]),currentPage:n}}}(t,a,c),l=s.pagesArray,u=s.currentPage;return i.a.createElement("ul",{className:"pagination_list"},l.map(function(e,a){return e===u?i.a.createElement("li",{className:"pagination_selected-list-item",key:a,value:e},e):i.a.createElement("li",{key:a,value:e,onClick:function(){return function(e){"..."!==e&&o({offset:(e-1)*t})}(e)}},e)}))}),S=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={list:[],isLoading:!0,comicsListParams:{orderBy:"modified",limit:20,offset:0},totalPagesComics:0,showPopup:!1,error:null},a.getComicsData=Object(p.a)(u.a.mark(function e(){var t,n,r,c,i,o,s,l=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},n=a.state.comicsListParams,r=Object(m.a)({},n,t),a.setState({isLoading:!0}),e.prev=4,e.next=7,_(r);case 7:c=e.sent,i=c.list,o=c.offset,s=c.total,a.setState({comicsListParams:Object(m.a)({},r,{offset:o}),list:i,totalPagesComics:s,isLoading:!1,error:null}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),a.setState({error:e.t0,isLoading:!1});case 17:case"end":return e.stop()}},e,null,[[4,14]])})),a.popupTargetComics=function(e){if(e){var t=a.state.list.find(function(t){return t.id===e});a.setState({targetComics:t}),a.togglePopup()}},a.togglePopup=function(){a.setState({showPopup:!a.state.showPopup})},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getComicsData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.list,r=t.isLoading,c=t.targetComics,o=t.showPopup,s=t.comicsListParams,l=t.totalPagesComics;return i.a.createElement("div",{className:"App"},i.a.createElement("header",null,i.a.createElement(x,Object.assign({updateComics:this.getComicsData},s))),a?i.a.createElement("h2",null,"error: ",a.message):null,r?i.a.createElement("img",{src:b.a,className:"App-logo",alt:"logo"}):null,a||r?null:i.a.createElement(i.a.Fragment,null,i.a.createElement("main",null,n.map(function(t){return i.a.createElement(N,{key:t.id,comics:t,handleClick:e.popupTargetComics})}),n.length?null:i.a.createElement("h2",null,"Oops nothing found :(")),i.a.createElement(L,Object.assign({handleClick:this.getComicsData,total:l},s))),o?i.a.createElement(j,{text:"Close Me",closePopup:this.togglePopup,comics:c}):null)}}]),t}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[14,1,2]]]);
//# sourceMappingURL=main.1d946af0.chunk.js.map