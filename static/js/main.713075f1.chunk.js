(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/GravityAnimating.34068f26.svg"},,,function(e,t,a){e.exports=a(28)},,,,,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),i=a.n(c),o=(a(20),a(1)),s=a.n(o),l=a(3),u=a(4),m=a(8),p=a(9),f=a(12),g=a(10),h=a(13),d=(a(23),a(11)),v=a.n(d),E=new URL("https://gateway.marvel.com/v1/public/comics"),b={ts:"1",apikey:"1136faa63131cec339ae63058b627b70",hash:"7abf5f031a9f3f0031ac8c51fcfe8da0",format:"comic",formatType:"comic",noVariants:!0,hasDigitalIssue:!1},y=function(){var e=Object(u.a)(s.a.mark(function e(t){var a,n,r,c,i,o,u;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object.keys(t).forEach(function(e){return""===t[e]?delete t[e]:""}),a=new URLSearchParams(Object(l.a)({},b,t)).toString(),e.next=4,fetch("".concat(E,"?").concat(a));case 4:if(!(n=e.sent).ok){e.next=12;break}return e.next=8,n.json();case 8:return r=e.sent,c=r.data,i=c.offset,o=c.total,u=r.data.results,e.abrupt("return",{list:u,offset:i,total:o});case 12:throw new Error(n.status);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),w=(a(24),function(e){var t=e.closePopup,a=e.comics;return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup_inner"},r.a.createElement("div",{className:"popup_inner-left"},r.a.createElement("img",{src:"".concat(a.thumbnail.path,".").concat(a.thumbnail.extension),alt:a.title})),r.a.createElement("div",{className:"popup_inner-right"},r.a.createElement("h2",null,a.title),r.a.createElement("p",null,a.description),r.a.createElement("div",{className:"popup_inner-links"},a.urls.map(function(e,t){return r.a.createElement("a",{key:t,href:e.url},e.type)}))),r.a.createElement("button",{onClick:t},"close me")))}),C=(a(25),function(e){var t=e.comics,a=e.handleClick;return r.a.createElement("div",{className:"comics-wrapper",onClick:function(){return a(t.title)}},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:"".concat(t.thumbnail.path,".").concat(t.thumbnail.extension),alt:t.title})))}),k=a(5),O=(a(26),function(e){var t=e.updateComics,a=e.limit,n=e.orderBy,c=function(e){var a=e.target,n=a.name,r=a.value;t(Object(k.a)({},n,r))};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(),t({titleStartsWith:e.target.titleStartsWith.value})}},r.a.createElement("select",{onChange:c,defaultValue:n,className:"search__item search__select",name:"orderBy"},r.a.createElement("option",{value:"modified"},"Order by: modified"),r.a.createElement("option",{value:"-modified"},"Order by: -modified"),r.a.createElement("option",{value:"title"},"Order by: title"),r.a.createElement("option",{value:"-title"},"Order by: -title")),r.a.createElement("select",{onChange:c,defaultValue:a,className:"search__item search__select",name:"limit"},r.a.createElement("option",{value:"10"},"Comics per page: 10"),r.a.createElement("option",{value:"20"},"Comics per page: 20"),r.a.createElement("option",{value:"30"},"Comics per page: 30"),r.a.createElement("option",{value:"40"},"Comics per page: 40"),r.a.createElement("option",{value:"50"},"Comics per page: 50")),r.a.createElement("input",{className:"search__item search__input",placeholder:"title starts with .....",name:"titleStartsWith"}),r.a.createElement("button",{name:"button",className:"search__item search__button"},"search"))}),P=a(2),_=(a(27),function(e){var t=e.limit,a=e.offset,n=e.total,c=e.handleClick;if(!n)return null;var i=function(e,t,a){var n=function(t){return Math.ceil(t/e)},r=n(t)+1,c=n(a),i=Math.ceil(2.5),o=function(e){return Array.from(new Array(e)).map(function(e,t){return t+1})},s=o(5);if(c<1)return{pagesArray:[],currentPage:r};if(1<=c&&c<=5)return{pagesArray:o(c),currentPage:r};if(c>5){if(r<=i)return{pagesArray:[].concat(Object(P.a)(s),["...",c]),currentPage:r};var l=s.map(function(e){return r-i+e});if(r===i+1)return{pagesArray:[1].concat(Object(P.a)(l),["...",c]),currentPage:r};if(r===c-i)return{pagesArray:[1,"..."].concat(Object(P.a)(l),[c]),currentPage:r};var u=s.map(function(e){return c-e+1}).reverse();return r>c-i?{pagesArray:[1,"..."].concat(Object(P.a)(u)),currentPage:r}:{pagesArray:[1,"..."].concat(Object(P.a)(l),["...",c]),currentPage:r}}}(t,a,n),o=i.pagesArray,s=i.currentPage;return r.a.createElement("ul",{className:"pagination_list"},o.map(function(e,a){return e===s?r.a.createElement("li",{className:"pagination_selected-list-item",key:a,value:e},e):r.a.createElement("li",{key:a,value:e,onClick:function(){return function(e){"..."!==e&&c({offset:(e-1)*t})}(e)}},e)}))}),j=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={list:[],isLoading:!0,comicsListParams:{orderBy:"modified",limit:20,offset:0},totalPagesComics:0,showPopup:!1,error:null},a.getComicsData=Object(u.a)(s.a.mark(function e(){var t,n,r,c,i,o,u,m=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{},n=a.state.comicsListParams,r=Object(l.a)({},n,t),a.setState({isLoading:!0}),e.prev=4,e.next=7,y(r);case 7:c=e.sent,i=c.list,o=c.offset,u=c.total,a.setState({comicsListParams:Object(l.a)({},r,{offset:o}),list:i,totalPagesComics:u,isLoading:!1,error:null}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),a.setState({error:e.t0,isLoading:!1});case 17:case"end":return e.stop()}},e,null,[[4,14]])})),a.popupTargetComics=function(e){if(e){var t=a.state.list.find(function(t){return t.title===e});a.setState({targetComics:t}),a.togglePopup()}},a.togglePopup=function(){a.setState({showPopup:!a.state.showPopup})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.getComicsData();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.list,c=t.isLoading,i=t.targetComics,o=t.showPopup,s=t.comicsListParams,l=t.totalPagesComics;return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement(O,Object.assign({updateComics:this.getComicsData},s))),a?r.a.createElement("h2",null,"error: ",a.message):null,c?r.a.createElement("img",{src:v.a,className:"App-logo",alt:"logo"}):null,a||c?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("main",null,n.map(function(t){return r.a.createElement(C,{key:t.id,comics:t,handleClick:e.popupTargetComics})}),n.length?null:r.a.createElement("h2",null,"Oops nothing found :(")),r.a.createElement(_,Object.assign({handleClick:this.getComicsData,total:l},s))),o?r.a.createElement(w,{text:"Close Me",closePopup:this.togglePopup,comics:i}):null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[14,1,2]]]);
//# sourceMappingURL=main.713075f1.chunk.js.map