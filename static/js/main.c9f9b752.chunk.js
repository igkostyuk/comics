(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/GravityAnimating.34068f26.svg"},14:function(e,t,a){e.exports=a(24)},20:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(6),c=a.n(i),o=(a(20),a(1)),s=a.n(o),l=a(3),u=a(7),m=a(8),p=a(12),f=a(9),h=a(13),d=(a(23),a(10)),v=a.n(d),g=new URL("https://gateway.marvel.com/v1/public/comics"),E={ts:"1",apikey:"1136faa63131cec339ae63058b627b70",hash:"7abf5f031a9f3f0031ac8c51fcfe8da0",format:"comic",formatType:"comic",noVariants:!0,hasDigitalIssue:!1,limit:20};Object.keys(E).forEach(function(e){return g.searchParams.append(e,E[e])});var b=["http://i.annihil.us/u/prod/marvel/i/mg/f/60/4c002e0305708"],w=function(e){if(!e.thumbnail||!e.thumbnail.path)return!1;var t=e.thumbnail;return-1===t.path.indexOf("image_not_available")&&-1===b.indexOf(t.path)},O=function(e){["orderBy","titleStartsWith","limit","offset"].forEach(function(t){return e[t]?g.searchParams.set(t,e[t]):g.searchParams.delete(t)})},y=function(){var e=Object(l.a)(s.a.mark(function e(){var t,a,n,r,i,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(g);case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.next=8,a.data;case 8:return n=e.sent,r=n.offset,i=n.total,e.next=13,a.data.results.filter(w);case 13:return c=e.sent,e.abrupt("return",{list:c,offset:r,total:i});case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),k=function(e){var t=e.closePopup,a=e.comics,n=e.title,i=e.image;return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup_inner"},r.a.createElement("div",{className:"popup_inner-left"},i),r.a.createElement("div",{className:"popup_inner-right"},n,r.a.createElement("p",null,a.description),r.a.createElement("div",{className:"popup_inner-links"},a.urls.map(function(e,t){return r.a.createElement("a",{key:t,href:e.url},e.type)}))),r.a.createElement("button",{onClick:t},"close me")))},_=function(e){e.title;var t=e.image;return r.a.createElement("div",{className:"comics-wrapper"},r.a.createElement("div",{className:"image"},t))},j=a(4),P=a(11),C=a(2),x=function(e){var t=e.handleSubmit,a=e.limit;return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=e.target.elements,n=Object(C.a)(a).reduce(function(e,t){return t.name?Object(P.a)({},e,Object(j.a)({},t.name,t.value)):e},{});t(n)}},r.a.createElement("select",{className:"search__item search__select",name:"orderBy"},r.a.createElement("option",{value:"modified"},"Order by: modified"),r.a.createElement("option",{value:"-modified"},"Order by: -modified"),r.a.createElement("option",{value:"title"},"Order by: title"),r.a.createElement("option",{value:"-title"},"Order by: -title")),r.a.createElement("select",{value:a,className:"search__item search__select",name:"limit"},r.a.createElement("option",{value:"10"},"Comics per page: 10"),r.a.createElement("option",{value:"20"},"Comics per page: 20"),r.a.createElement("option",{value:"30"},"Comics per page: 30"),r.a.createElement("option",{value:"50"},"Comics per page: 50")),r.a.createElement("input",{className:"search__item search__input",placeholder:"title starts with .....",name:"titleStartsWith"}),r.a.createElement("button",{className:"search__item search__button"},"search"))},N=function(e){var t=e.limit,a=e.offset,n=e.total,i=e.handleClick;if(n&&t){var c=function(e){return Math.ceil(e/t)},o=c(a)+1,s=c(n),l=function(){var e=5;e=e%2?e++:e;var t=Math.ceil(e/2),a=function(e){return Array.from(new Array(e)).map(function(e,t){return t+1})},n=a(e);if(s<1)return[];if(1<=s&&s<=e)return a(s);if(s>e){if(o<=t)return[].concat(Object(C.a)(n),["...",s]);var r=n.map(function(e){return o-t+e});if(o===t+1)return[1].concat(Object(C.a)(r),["...",s]);if(o===s-t)return[1,"..."].concat(Object(C.a)(r),[s]);var i=n.map(function(e){return s-e+1}).reverse();return o>s-t?[1,"..."].concat(Object(C.a)(i)):[1,"..."].concat(Object(C.a)(r),["...",s])}}();return r.a.createElement("ul",{className:"pagination_list",onClick:function(e){var a=e.target.innerHTML;e.target.matches("li")&&"..."!==a&&a!=o&&i({offset:(a-1)*t})}},l.map(function(e,t){return e===o?r.a.createElement("li",{className:"pagination_selected-list-item",key:t},e):r.a.createElement("li",{key:t},e)}))}return null},S=function(e){var t=e.title;return r.a.createElement("h2",null,t)},L=function(e){var t=e.path,a=e.extension,n=e.alt;return r.a.createElement("img",{src:"".concat(t,".").concat(a),alt:n})},A=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={list:[],isLoading:!0,searchParams:{orderBy:"modified",titleStartsWith:"",limit:20,offset:0,total:0},showPopup:!1},a.updateComicsDate=Object(l.a)(s.a.mark(function e(){var t,n,r,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,n=t.list,r=t.offset,i=t.total,a.updateSearchParams({offset:r,total:i}),a.setState({list:n,isLoading:!1});case 8:case"end":return e.stop()}},e)})),a.updateSearchParams=function(e){var t=a.state.searchParams;t=Object.assign(t,e),a.setState(t)},a.setComicsLParams=function(){var e=Object(l.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({isLoading:!0}),a.updateSearchParams(t),O(a.state.searchParams),a.updateComicsDate();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onClick=function(e){var t=e.target.alt;if(e.target.alt){var n=a.state.list.find(function(e){return e.title===t});a.togglePopup(n)}},a.togglePopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.setState({showPopup:!a.state.showPopup,targetComics:e})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.updateComicsDate();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.list,a=e.isLoading,n=e.targetComics,i=e.showPopup,c=e.searchParams;return r.a.createElement("div",{className:"App"},r.a.createElement("nav",null,r.a.createElement(x,{handleSubmit:this.setComicsLParams,limit:c.limit})),a?r.a.createElement("img",{src:v.a,className:"App-logo",alt:"logo"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{onClick:this.onClick},t.map(function(e){return r.a.createElement(_,{key:e.id,title:r.a.createElement(S,{title:e.title}),image:r.a.createElement(L,Object.assign({},e.thumbnail,{alt:e.title}))})}),t.length?null:r.a.createElement("h2",null,'Oops nothing found ":("')),r.a.createElement(N,Object.assign({handleClick:this.setComicsLParams},c))),i?r.a.createElement(k,{text:"Close Me",closePopup:this.togglePopup,comics:n,title:r.a.createElement(S,{title:n.title}),image:r.a.createElement(L,Object.assign({},n.thumbnail,{alt:n.title}))}):null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,1,2]]]);
//# sourceMappingURL=main.c9f9b752.chunk.js.map