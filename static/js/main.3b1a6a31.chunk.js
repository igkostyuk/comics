(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(24)},20:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(5),c=a.n(i),o=(a(20),a(1)),s=a.n(o),l=a(2),u=a(6),m=a(7),p=a(12),h=a(8),f=a(13),d=(a(23),a(9)),v=a.n(d),g=new URL("http://gateway.marvel.com/v1/public/comics"),b={ts:"1",apikey:"1136faa63131cec339ae63058b627b70",hash:"7abf5f031a9f3f0031ac8c51fcfe8da0",limit:"50",format:"comic",formatType:"comic",noVariants:!0,hasDigitalIssue:!1,orderBy:"modified",titleStartsWith:"l"};Object.keys(b).forEach(function(e){return g.searchParams.append(e,b[e])});var E=["http://i.annihil.us/u/prod/marvel/i/mg/f/60/4c002e0305708"],w=function(e){if(!e.thumbnail||!e.thumbnail.path)return!1;var t=e.thumbnail;return-1===t.path.indexOf("image_not_available")&&-1===E.indexOf(t.path)},y=function(e){var t=e.orderBy,a=e.titleStartsWith;g.searchParams.set("orderBy",t),g.searchParams.delete("titleStartsWith"),a&&g.searchParams.append("titleStartsWith",a)},O=function(){var e=Object(l.a)(s.a.mark(function e(){var t,a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(g);case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,n=a.data.results.filter(w),console.log(n),e.abrupt("return",n);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),P=function(e){var t=e.closePopup,a=e.comics,n=e.title,i=e.image;return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup_inner"},r.a.createElement("div",{className:"popup_inner-left"},i),r.a.createElement("div",{className:"popup_inner-right"},n,r.a.createElement("p",null,a.description)),r.a.createElement("button",{onClick:t},"close me")))},k=function(e){e.title;var t=e.image;return r.a.createElement("div",{className:"comics-wrapper"},r.a.createElement("div",{className:"image"},t))},j=a(3),_=a(10),x=a(11),S=function(e){var t=e.handleSubmit;return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=e.target.elements,n=Object(x.a)(a).reduce(function(e,t){return t.name?Object(_.a)({},e,Object(j.a)({},t.name,t.value)):e},{});t(n)}},r.a.createElement("select",{className:"search__item",name:"orderBy"},r.a.createElement("option",{value:"modified"},"Order by: modified"),r.a.createElement("option",{value:"-modified"},"Order by: -modified"),r.a.createElement("option",{value:"title"},"Order by: title"),r.a.createElement("option",{value:"-title"},"Order by: -title")),r.a.createElement("input",{className:"search__item search__input",placeholder:"title starts with .....",name:"titleStartsWith"}),r.a.createElement("button",{className:"search__item search__button"},"search"))},N=function(e){var t=e.title;return r.a.createElement("h2",null,t)},C=function(e){var t=e.path,a=e.extension,n=e.alt;return r.a.createElement("img",{src:"".concat(t,".").concat(a),alt:n})},L=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={list:[],isLoading:!0,searchParams:{orderBy:"modified"},showPopup:!1},a.setComicsLParams=function(){var e=Object(l.a)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({searchParams:t,isLoading:!0}),y(t),e.next=4,O();case 4:return n=e.sent,e.next=7,a.setState({list:n,isLoading:!1});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onClick=function(e){var t=e.target.alt,n=a.state.list.find(function(e){return e.title===t});a.togglePopup(n)},a.togglePopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.setState({showPopup:!a.state.showPopup,targetComics:e})},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,this.setState({list:t,isLoading:!1});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.list,a=e.isLoading,n=e.targetComics,i=e.showPopup;return r.a.createElement("div",{className:"App"},r.a.createElement("nav",null,r.a.createElement(S,{handleSubmit:this.setComicsLParams})),a?r.a.createElement("img",{src:v.a,className:"App-logo",alt:"logo"}):r.a.createElement("main",{onClick:this.onClick},t.map(function(e){return r.a.createElement(k,{key:e.id,title:r.a.createElement(N,{title:e.title}),image:r.a.createElement(C,Object.assign({},e.thumbnail,{alt:e.title}))})})),i?r.a.createElement(P,{text:"Close Me",closePopup:this.togglePopup,comics:n,title:r.a.createElement(N,{title:n.title}),image:r.a.createElement(C,Object.assign({},n.thumbnail,{alt:n.title}))}):null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a.p+"static/media/GravityAnimating.34068f26.svg"}},[[14,1,2]]]);
//# sourceMappingURL=main.3b1a6a31.chunk.js.map